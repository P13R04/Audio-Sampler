name: Keep Render Backend Awake (Advanced)

on:
  schedule:
    - cron: '*/10 * * * *'  # toutes les 10 minutes
  workflow_dispatch:

jobs:
  keepalive:
    runs-on: ubuntu-latest
    steps:
      - name: GET /api/health
        run: curl -s https://audio-sampler-x9kz.onrender.com/api/health
      - name: GET /api/presets
        run: curl -s https://audio-sampler-x9kz.onrender.com/api/presets
      - name: GET /api/presets/basic-kit
        run: curl -s https://audio-sampler-x9kz.onrender.com/api/presets/basic-kit
      - name: Sleep 5s
        run: sleep 5
      - name: GET /api/presets/electronic
        run: curl -s https://audio-sampler-x9kz.onrender.com/api/presets/electronic
